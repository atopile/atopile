.log-viewer{display:flex;flex-direction:column;height:100%;min-height:100%;overflow:hidden;background:var(--bg-primary)}.log-viewer.loading{display:flex;align-items:center;justify-content:center;color:var(--text-muted);font-size:var(--font-size-base)}.log-header{display:flex;align-items:center;padding:var(--spacing-sm) var(--spacing-md);border-bottom:1px solid var(--border-subtle);background:var(--bg-secondary);flex-shrink:0;gap:var(--spacing-sm);min-height:40px;flex-wrap:wrap}.log-header .build-selector{margin-left:auto}.log-header .build-selector .selector-trigger{min-width:180px;height:28px;font-size:var(--font-size-sm);padding:var(--spacing-xs) var(--spacing-sm)}.log-header .build-selector .selector-dropdown{min-width:240px;right:0;left:auto}.log-filters{display:flex;gap:1px;background:var(--bg-tertiary);border-radius:var(--radius-sm);padding:2px}.filter-btn{padding:var(--spacing-xs) var(--spacing-sm);border:none;border-radius:var(--radius-sm);font-size:var(--font-size-sm);font-weight:500;font-family:var(--font-mono);text-transform:uppercase;letter-spacing:.3px;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;gap:var(--spacing-xs);background:transparent;color:var(--text-muted)}.filter-btn:disabled{opacity:.3;cursor:not-allowed}.filter-btn .count{opacity:.7;font-size:var(--font-size-xs)}.filter-btn.debug{color:var(--text-muted)}.filter-btn.debug.active{background:#7f849c26;color:var(--text-secondary)}.filter-btn.info{color:var(--ctp-blue)}.filter-btn.info.active{background:#89b4fa26;color:var(--ctp-blue)}.filter-btn.warning{color:var(--ctp-yellow)}.filter-btn.warning.active{background:#f9e2af26;color:var(--ctp-yellow)}.filter-btn.error{color:var(--ctp-red)}.filter-btn.error.active{background:#f38ba826;color:var(--ctp-red)}.filter-btn.alert{color:var(--ato-orange)}.filter-btn.alert.active{background:var(--ato-orange-glow);color:var(--ato-orange)}.filter-divider{width:1px;height:16px;background:var(--border-subtle);margin:0 4px}.stage-filter-dropdown{position:relative}.stage-filter-btn{display:flex;align-items:center;gap:6px;padding:3px 8px;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);font-size:11px;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:all .15s ease;background:transparent}.stage-filter-btn:hover:not(:disabled){border-color:var(--text-muted);background:var(--hover)}.stage-filter-btn:disabled{opacity:.4;cursor:not-allowed}.stage-filter-btn.open{border-color:var(--accent);background:var(--hover)}.stage-filter-btn.filtered{border-color:var(--accent);color:var(--accent)}.stage-filter-btn svg:first-child{width:12px;height:12px;opacity:.7}.stage-filter-btn .stage-count{font-size:10px;opacity:.7;font-family:var(--font-mono)}.stage-filter-btn .chevron{transition:transform .15s ease;opacity:.5}.stage-filter-btn .chevron.open{transform:rotate(180deg)}.stage-dropdown-panel{position:absolute;top:100%;left:0;margin-top:4px;min-width:200px;max-width:300px;background:var(--bg-elevated);border:1px solid var(--border-subtle);border-radius:var(--radius-md);box-shadow:0 4px 12px #0000004d;z-index:100;animation:dropdownFadeIn .15s ease}@keyframes dropdownFadeIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.stage-dropdown-actions{display:flex;gap:var(--space-1);padding:var(--space-2);border-bottom:1px solid var(--border-subtle)}.stage-action-btn{flex:1;padding:4px 8px;font-size:10px;font-weight:500;color:var(--text-secondary);background:var(--bg);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);cursor:pointer;transition:all .15s ease}.stage-action-btn:hover{background:var(--hover);border-color:var(--text-muted)}.stage-dropdown-list{max-height:240px;overflow-y:auto;padding:var(--space-1) 0}.stage-checkbox-item{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-1) var(--space-2);cursor:pointer;transition:background .1s ease}.stage-checkbox-item:hover{background:var(--hover)}.stage-checkbox-item input[type=checkbox]{width:14px;height:14px;margin:0;accent-color:var(--accent);cursor:pointer}.stage-checkbox-item .stage-name{font-size:11px;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.log-actions{display:flex;align-items:center;gap:var(--spacing-sm);font-size:var(--font-size-base);color:var(--text-muted)}.action-btn{display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:var(--radius-sm);color:var(--text-muted);transition:all var(--transition-fast)}.action-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.action-btn.active{background:var(--bg-hover);color:var(--ato-orange)}.log-search-box{display:flex;align-items:center;gap:var(--spacing-sm);flex:1;max-width:280px;min-width:120px;padding:var(--spacing-xs) var(--spacing-md);background:var(--bg-tertiary);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.log-search-box:focus-within{border-color:var(--ato-orange);box-shadow:0 0 0 2px var(--ato-orange-glow)}.log-search-box .search-icon{color:var(--text-muted);flex-shrink:0}.log-search-box .search-input{flex:1;min-width:0;background:transparent;border:none;outline:none;font-size:var(--font-size-base);font-family:var(--font-mono);color:var(--text-primary)}.log-search-box .search-input::placeholder{color:var(--text-muted)}.log-search-box .search-count{font-size:var(--font-size-sm);color:var(--text-muted);padding:1px 5px;background:var(--border-subtle);border-radius:var(--radius-sm);font-family:var(--font-mono);flex-shrink:0}.log-search-box .search-clear{display:flex;align-items:center;justify-content:center;width:16px;height:16px;border-radius:var(--radius-sm);color:var(--text-muted);transition:all var(--transition-fast);flex-shrink:0}.log-search-box .search-clear:hover{background:var(--bg-hover);color:var(--text-secondary)}.log-build-info{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-1) var(--space-3);background:var(--bg);border-bottom:1px solid var(--border-subtle);font-size:11px;color:var(--text-muted);flex-shrink:0}.build-info-item{display:flex;align-items:center;gap:4px}.build-info-item svg{opacity:.6;flex-shrink:0}.build-info-sep{opacity:.4}.build-info-item.build-id{font-family:var(--font-mono);opacity:.7}.log-content{flex:1;overflow:auto;min-height:0;display:flex;flex-direction:column}.log-entry{display:flex;flex-direction:row;gap:var(--spacing-md);padding:var(--spacing-sm) var(--spacing-md);border-bottom:1px solid var(--border-subtle);font-family:var(--font-mono);font-size:var(--font-size-base);line-height:1.5;align-items:flex-start;transition:background var(--transition-fast);min-height:32px;flex-shrink:0}.log-entry:hover{background:var(--bg-hover)}.log-entry.warning{background:#f9e2af14;border-left:2px solid var(--ctp-yellow);padding-left:calc(var(--spacing-md) - 2px)}.log-entry.error{background:#f38ba814;border-left:2px solid var(--ctp-red);padding-left:calc(var(--spacing-md) - 2px)}.log-entry.alert{background:var(--ato-orange-subtle);border-left:2px solid var(--ato-orange);padding-left:calc(var(--spacing-md) - 2px)}.log-timestamp{flex-shrink:0;min-width:70px;font-size:var(--font-size-sm);color:var(--text-muted);opacity:.7;font-variant-numeric:tabular-nums;padding-top:2px}.log-level{flex-shrink:0;min-width:65px;max-width:65px;padding:2px 8px;border-radius:var(--radius-sm);font-size:var(--font-size-xs);font-weight:600;text-transform:uppercase;letter-spacing:.3px;text-align:center;white-space:nowrap}.log-level.debug{background:#7f849c26;color:var(--text-muted)}.log-level.info{background:#89b4fa26;color:var(--ctp-blue)}.log-level.warning{background:#f9e2af33;color:var(--ctp-yellow)}.log-level.error{background:#f38ba833;color:var(--ctp-red)}.log-level.alert{background:var(--ato-orange-glow);color:var(--ato-orange)}.log-body{flex:1;min-width:0;display:flex;flex-direction:column;gap:var(--spacing-xs);padding-top:2px}.log-message-row{display:flex;align-items:flex-start;gap:var(--spacing-sm);min-width:0;width:100%}.expand-chevron{flex-shrink:0;font-size:8px;color:var(--text-muted);opacity:.6;transition:transform var(--transition-fast),opacity var(--transition-fast);padding-top:4px;width:10px}.expand-chevron.expanded{transform:rotate(90deg)}.log-entry.expandable:hover .expand-chevron{opacity:1}.log-message{flex:1;min-width:0;color:var(--text-primary);line-height:1.4}.log-message.collapsed{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.log-message-expanded{display:flex;align-items:flex-start;gap:var(--spacing-sm);width:100%}.log-message-content{flex:1;min-width:0;margin:0;padding:0;font-family:inherit;font-size:inherit;line-height:1.4;color:var(--text-primary);white-space:pre-wrap;word-break:break-word;background:transparent;border:none}.log-entry.warning .log-message-content{color:var(--ctp-yellow)}.log-entry.error .log-message-content{color:var(--ctp-red)}.log-entry.alert .log-message-content{color:var(--ato-orange)}.line-count,.has-traceback{flex-shrink:0;padding:1px 6px;border-radius:var(--radius-sm);font-size:var(--font-size-xs);font-weight:500;background:var(--bg-tertiary);color:var(--text-muted);white-space:nowrap}.has-traceback{background:#f9e2af26;color:var(--ctp-yellow)}.log-entry.expandable{cursor:pointer}.log-entry.expandable:hover{background:var(--bg-hover)}.log-entry.expanded{background:var(--bg-secondary)}.log-entry.warning .log-message{color:var(--ctp-yellow)}.log-entry.error .log-message{color:var(--ctp-red)}.log-entry.alert .log-message{color:var(--ato-orange)}.tracebacks{display:flex;flex-direction:column;gap:var(--spacing-sm);margin-top:var(--spacing-sm);padding-left:18px}.traceback-section{display:flex;flex-direction:column;gap:var(--spacing-xs)}.traceback-label{font-size:var(--font-size-xs);font-weight:600;text-transform:uppercase;letter-spacing:.3px;color:var(--text-muted);opacity:.8}.traceback-label.ato{color:var(--ctp-yellow)}.traceback-content{margin:0;padding:var(--spacing-sm);background:#0003;border-radius:0 var(--radius-sm) var(--radius-sm) 0;font-size:var(--font-size-sm);white-space:pre-wrap;overflow-x:auto;animation:fadeIn var(--transition-fast)}.traceback-content.ato{border-left:2px solid var(--ctp-yellow);color:var(--ctp-yellow)}.traceback-content.python{border-left:2px solid var(--text-muted);color:var(--text-muted)}.log-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:var(--spacing-xl);text-align:center}.log-empty-icon{width:48px;height:48px;color:var(--text-muted);opacity:.4;margin-bottom:var(--spacing-md)}.log-empty-icon svg{width:100%;height:100%}.log-empty-text{font-size:var(--font-size-base);color:var(--text-muted)}.log-loading{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md);color:var(--text-muted);font-size:var(--font-size-base)}.spinner{width:16px;height:16px;border:2px solid var(--border-subtle);border-top-color:var(--ato-orange);border-radius:50%;animation:spin .8s linear infinite}.log-entry.search-match{background:#f9e2af1a}.log-entry.search-match .log-message{background:#f9e2af26;border-radius:var(--radius-sm);padding:0 4px;margin:-0 -4px}
